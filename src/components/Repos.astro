---
const response = await fetch(
  "https://api.github.com/users/josephpr/repos?per_page=100"
);
const results = await response.json();
const sortByDate = results.sort(
  (a, b) => new Date(b.created_at).valueOf() - new Date(a.created_at).valueOf()
);
// console.log(results)
// console.log(sortByDate)
---

<div class="repos">
  {
    sortByDate.map((repo) => (
      <div>
        <h2>{repo.name}</h2>
        <p>{repo.created_at.substring(0, 10)}</p>
        <p>{repo.description}</p>
        <p>{repo.language}</p>
        
        <div class="links">
            <a href={repo.html_url} target="_blank">
                Repo Link
                </a>
                {repo.homepage !== null ? (
                    <a href={repo.homepage} target="_blank">
                        Live Page
                        </a>
                        ) : (
                            ""
                            )}
                            </div>
                            
                            </div>
                            ))
                        }
</div>
<style>
    .repos {
        display: grid;
    gap: 1rem;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }
  .repos > div {
    padding: 20px;
    border: 1px solid #000;
    border-radius: 20px;
    box-shadow: 1px 2px 2px 2px rgb(210, 209, 209);
  }
  .links{
    display:flex;
    justify-content: flex-start;
    gap:3rem;
  }
</style>
